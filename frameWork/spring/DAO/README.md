# DAO 패턴
데이터 액세스 계층은 일반 비지니스 로직과 분리하는것이 원칙이다.

DTO또는 도메인 오브젝트만을 사용하는 인터페이스를 통해 데이터 엑세스 기술을 외부로 노출하지 않는다.
구현 기술에 대한 정보를 외부에 공개하지 않는 기법이다.

외부에 공개하지 않고 순수한 POJO로 작동되는것의 장점은 

1. DAO를 사용하는 비지니스 로직이나 다른 코드에 영향을 주지않고 기술을 변경도 가능하며 하나 이상의 데이터 액세스 기술을 혼합해서 사용 가능하다.

2. POJO의 특징인 목 오브젝트 같은 테스트 대역 오브젝트로 변환해 테스트도 가능하다.

하지만 DAO패턴을 작성할때 주의할점이 있다.

1. DAO패턴은 직접 new로 사용하지 않고 DI될수있도록 만들어야한다.
- new라는 키워드를 사용할시 IOC가 의미가 없어지며 코드간의 종속성이 생기고 다른 기술의 변화로도 매우 불편하게 된다.
- 이떄 interface를 구현하더라도 무의식적으로 public을 붙이지 말자.
    - setDataSource()같은 메소드는 전혀 public일 이유가 없다.

2. 예외가 발생할 경우도 있다.
- 하지만 Spring에서 지원하는 모든 데이터엑세스 기술들이 일관적인 예외처리를 보장하지 않는다.
- 또한 단순한 예외처리가 아닌 예외처리를 이용한 메세지등을 만들어야할때 문제가 생긴다.
- 언제나 일관된 예외가 아니기 때문에 사용자 입장에서는 난처하다.
    - 이러한 문제점은 Spring에서 JDBCTemplate을 제공해준다.
        - JDBCTemplate 스프링에서 예외추상화를 제공해주는 놈이다.
    - 최신 데이터액세스 기술들은 대부분 RunTime Exception을 던진다.
- 만약 비지니스 로직에서도 예외처리를 해야한다면 무책임한 Exception이나 SQLException등 을 사용하지 말고
    RunTime Exception을 이용하자.